{"java":"public class Solution {\r\n    public int[] searchRange(int[] nums, int target) {\r\n        int[] ret = {-1, -1};\r\n        if (nums == null || nums.length == 0) {\r\n            return ret;\r\n        }\r\n        if(nums.length == 1){\r\n            if(nums[0] == target){\r\n                ret[0] = ret[1] = 0;\r\n            }\r\n            return ret;\r\n        }\r\n        int left = 0;\r\n        int right = nums.length - 1;\r\n        while(left <= right){\r\n            int middle = (left +  right)/2;\r\n            if(nums[middle] == target){\r\n                if(middle > 0 && nums[middle-1] == target){\r\n                    ret[0] = searchRangeWithRightTarget(nums,left,middle -1,target);\r\n                }else{\r\n                    ret[0] = middle;\r\n                }\r\n                if(middle < nums.length-1 && nums[middle+1] == target){\r\n                    ret[1] = searchRangeWithLeftTarget(nums,middle + 1,right,target);\r\n                }else{\r\n                    ret[1] = middle;\r\n                }\r\n                return ret;\r\n            }else if(nums[middle] > target){\r\n                right = middle - 1;\r\n            }else{\r\n                left = middle + 1;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    public int searchRangeWithRightTarget(int[] nums,int start,int end,int target){\r\n        int result = end;\r\n        while(start < end){\r\n            int middle = (start + end)/2;\r\n            if(nums[middle] < target){\r\n                start = middle + 1;\r\n            }else if(nums[middle] == target){\r\n                result = middle;\r\n                end = middle;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    public int searchRangeWithLeftTarget(int[] nums,int start,int end,int target){\r\n        int result = start;\r\n        while(start < end){\r\n            int middle = (start + end + 1)/2;\r\n            if(nums[middle] > target){\r\n                end = middle -1;\r\n            }else if(nums[middle] == target){\r\n                result = middle;\r\n                start = middle;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}"}