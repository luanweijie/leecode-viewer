{"java":"public class Solution {\r\n    ArrayList<Integer>  result = new ArrayList<Integer>();\r\n    public List<Integer> grayCode(int n) {\r\n        this.result = new ArrayList<Integer>();\r\n        this.result.add(0);\r\n        int[] used = new int[1 << n];\r\n        used[0] = 1;\r\n        generate(1 << n,0,1,used,this.result);\r\n        return this.result;\r\n    }\r\n    public boolean generate(int n,int last,int m,int[] used,ArrayList<Integer> alreadyAdd){\r\n        if(n == m){\r\n            return true;\r\n        }\r\n        for(int i = 0;i < n;i++){\r\n            int bitAtI = (last >> i) % 2;\r\n            int adder = ((bitAtI == 0)?1:-1)*(1 << i);\r\n            if(used[last+adder] == 0){\r\n                alreadyAdd.add(last+adder);\r\n                used[last+adder] = 1;\r\n                if(generate(n,last+adder,m+1,used,alreadyAdd)){\r\n                    return true;\r\n                }\r\n                used[last+adder] = 0;\r\n                alreadyAdd.remove(alreadyAdd.size()-1);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\n}"}