{"java":"public class Solution {\r\n    public List<String> wordBreak(String s, Set<String> wordDict) {\r\n        ArrayList<String> result = new ArrayList<>();\r\n        ArrayList<String> curResult = new ArrayList<>();\r\n        _solve(s,0,new HashSet<>(),wordDict,curResult,result);\r\n        return result;\r\n    }\r\n    public boolean _solve(String s,int start,Set<Integer> fail,Set<String> wordDict,List<String> curResult,List<String> result){\r\n        if(start == s.length()) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for(String cur :curResult){\r\n                sb.append(cur+\" \");\r\n            }\r\n            sb.deleteCharAt(sb.length()-1);\r\n            result.add(sb.toString());\r\n            return true;\r\n        }\r\n        boolean everSolved = false;\r\n        for(int i = start+1; i <= s.length();i++){\r\n            if(!fail.contains(i)){\r\n                if(wordDict.contains(s.substring(start,i))){\r\n                    curResult.add(s.substring(start,i));\r\n                    if(_solve(s,i,fail,wordDict,curResult,result)){\r\n                        everSolved = true;\r\n                    };\r\n                    curResult.remove(curResult.size()-1);\r\n                }\r\n            }\r\n        }   \r\n        if(!everSolved){\r\n            fail.add(start);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}"}