{"java":"public class Solution {\r\n    int result = 0;\r\n    public int totalNQueens(int n) {\r\n        this.result = 0;\r\n        boolean[][] board = new boolean[n][n];\r\n        _solve(board,0,n);\r\n        return this.result;\r\n    }\r\n\r\n    public void _solve(boolean[][] board, int pos,int n){\r\n        if(pos == n){\r\n            this.result++;\r\n            return;\r\n        }\r\n        for(int i = 0;i < n;i++){\r\n            board[pos][i] = true;\r\n            if(_checkPos(board,pos,i,n)) _solve(board,pos+1,n);\r\n            board[pos][i] = false;\r\n        }\r\n    }\r\n    public boolean _checkPos(boolean[][]board,int x,int y,int n){\r\n        if(x == 0) return true;\r\n        for(int i = 0;i < x;i++){\r\n            if(board[i][y]) return false;\r\n        }\r\n        for(int i = 0;i < n;i++){\r\n            if(i != y && board[x][i]) return false;\r\n        }\r\n        int left = y-1,right = y+1;\r\n        x--;\r\n        while(left >= 0 || right < n){\r\n            if(x < 0) return true;\r\n            if((left >= 0 && board[x][left]) || (right < n && board[x][right])) return false;\r\n            x--;left--;right++;\r\n        }\r\n        return true;\r\n    }\r\n}"}