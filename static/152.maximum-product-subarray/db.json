{"java":"public class Solution {\r\n    public int maxProduct(int[] nums) {\r\n        int[] positiveResult = new int[nums.length];\r\n        int[] negativeResult = new int[nums.length];\r\n        int max = nums[0];\r\n        if(max > 0) positiveResult[0] = max;\r\n        if(max < 0) negativeResult[0] = max;\r\n        for(int i = 1; i < nums.length;i++){\r\n            int cur;\r\n            if(nums[i] == 0){\r\n                positiveResult[i] = negativeResult[i] = 0;\r\n                cur = 0;\r\n            }else{\r\n                if(nums[i] < 0){\r\n                    cur = nums[i];\r\n                    negativeResult[i] = nums[i];\r\n                    if(positiveResult[i-1] > 0){\r\n                        negativeResult[i] = positiveResult[i-1] * nums[i];\r\n                    } \r\n                    if(negativeResult[i-1] < 0){\r\n                        positiveResult[i] = nums[i] * negativeResult[i-1];\r\n                        cur = positiveResult[i];\r\n                    }\r\n                }else{\r\n                    cur = nums[i];\r\n                    positiveResult[i] = nums[i];\r\n                    if(positiveResult[i-1] > 0){\r\n                        positiveResult[i] = positiveResult[i-1] * nums[i];\r\n                        cur = positiveResult[i];\r\n                    } \r\n                    if(negativeResult[i-1] < 0){\r\n                        negativeResult[i] = nums[i] * negativeResult[i-1];\r\n                    }\r\n                }\r\n            }\r\n            if(cur > max) max = cur;\r\n        }\r\n        return max;\r\n    }\r\n}"}